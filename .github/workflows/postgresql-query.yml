on: workflow_dispatch

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
     - uses: actions/checkout@v2.3.2

     - uses: Azure/login@v1
       # see https://github.com/Azure/login
       with:
         creds: ${{secrets.AZURE_CREDENTIALS}}
         
     - uses: azure/postgresql@v1
       # see https://github.com/marketplace/actions/azure-postgresql-action
       # server-name only contains a label, but actual connection is stored in secret for connection string
       with:
         connection-string: ${{â€¯secrets.AZURE_POSTGRESQL_CONNECTION_STRING }}
         server-name: database-server
         plsql-file: "sql_files/*.sql"
